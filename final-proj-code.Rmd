---
title: "EDLD3-final"
author: "Raleigh Goodwin, Vinita Vader, Shijing Zhou"
date: "4/21/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(purrr)
```


```{r}
data1 = rio::import("dataCT.csv")

#relevant variables retained
data = data1 %>% 
  select(Q1:Q15, TIPI1:familysize)

```

## Ipsatization - technique used in Personality Psychology for standardizing rows
### Method 1
```{r}

mean.deviation = function(df){
  row.mean =  df %>% 
                as_tibble() %>% 
                rowwise() %>% 
                mutate(row.mean = mean(df, na.rm = T))
  output = data %>% 
            as_tibble() %>% 
            map2(df, row.mean, `-`) %>% 
            colnames(output) = paste(names(data), ".ips", sep="")
}

mean.deviation(df1)


ip.data = data %>% 
  select(Q1:Q15) %>% 
  rowwise() %>% 
  mutate(row.mean = mean(c(Q1:Q15))) %>% 
  mutate()
  
  

df1 = data %>% 
  select(Q1:Q15)
  
#install.packages("multicon")
library(multicon)
ipsatize(data %>% 
  select(Q1:Q15))
```

